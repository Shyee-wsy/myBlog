webpackJsonp([3],{dTs2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("zXdv"),n={data:function(){return{form:{filename:"",tag:"",content:""},rules:{filename:[{required:!0,message:"请输入文章标题",trigger:"blur"}],tag:[{required:!0,message:"请选择一个标签",trigger:"change"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}]}}},methods:{fetchBlog:function(){var e=this;o.a.singleGist(this.$route.params.id).then(function(t){var r=t.data;for(var o in r.files)e.form.filename=o,e.form.content=r.files[o].content;e.form.tag=r.description}).catch(function(e){return console.log(e)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("submit error"),!1;o.a.editGist(t.$route.params.id,t.form).then(function(){t.$message({message:"发布成功",type:"success"})}).then(t.$router.push("/blog/detail/"+t.$route.params.id))})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fetchBlog()}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"editForm",attrs:{model:e.form,"label-width":"auto",rules:e.rules}},[r("el-form-item",{attrs:{label:"标题",prop:"filename"}},[r("el-input",{model:{value:e.form.filename,callback:function(t){e.$set(e.form,"filename",t)},expression:"form.filename"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"标签",prop:"tag"}},[r("el-radio-group",{model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},[r("el-radio",{attrs:{label:"JS"}}),e._v(" "),r("el-radio",{attrs:{label:"html"}}),e._v(" "),r("el-radio",{attrs:{label:"python"}}),e._v(" "),r("el-radio",{attrs:{label:"css"}}),e._v(" "),r("el-radio",{attrs:{label:"日记"}}),e._v(" "),r("el-radio",{attrs:{label:"其他"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("发表文章")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("editForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(n,a,!1,function(e){r("o300")},null,null);t.default=l.exports},o300:function(e,t){}});
//# sourceMappingURL=3.412250e53e315b5b9c2b.js.map